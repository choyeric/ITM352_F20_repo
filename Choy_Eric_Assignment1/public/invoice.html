<script src="./products.js"></script>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zen Noods Receipt</title>
</head>

<body>
    <table border="2">
        <tbody>
            <tr>
                <th style="text-align: center;" width="43%">Item</th>
                <th style="text-align: center;" width="11%">Quantity</th>
                <th style="text-align: center;" width="13%">Price</th>
                <th style="text-align: center;" width="54%">Extended Price</th>
            </tr>

            <script>
                // Define subtotal
                subTotal = 0;
                extended_price = 0;

                // Product row displays; code from Invoice WOD
                for (i = 0; i < products.length; i++) {
                    document.write(`
          <tr>
            <td width="43%">${products[i].item}</td>
            <td align="center" width="11%">${products[i].order_quantity}</td>
            <td width="13%">$${products[i].price.toFixed(2)}</td>
            <td width="54%">\$ ${extended_price.toFixed(2)}</td>
          </tr>
          `);
                }

                // Tax rate
                var salesTax = 0.0575;
                var tax = subTotal * salesTax;

                // Grand total
                var grandTotal = subTotal + tax;
            </script>

            <tr>
                <td colspan="3" width="100%">&nbsp;</td>
            </tr>
            <tr>
                <td style="text-align: center;" colspan="3" width="67%">Sub-total</td>
                <td width="54%">$
                    <script>
                        document.write(subTotal.toFixed(2));
                    </script>
                </td>
            </tr>
            <tr>
                <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Tax @
                        5.75%</span></td>
                <td width="54%">$
                    <script>
                        document.write(tax.toFixed(2));
                    </script>
                </td>
            </tr>
            <tr>
                <td style="text-align: center;" colspan="3" width="67%"><strong>Total</strong></td>
                <td width="54%"><strong>$
                        <script>
                            document.write(grandTotal.toFixed(2));
                        </script></strong></td>
            </tr>
        </tbody>
    </table>
</body>

</html>